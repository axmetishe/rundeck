RDECK_USER=rundeck
RDECK_BASE=/var/lib/rundeck
RDECK_CONF=/etc/rundeck
RDECK_PROJDIR=/var/rundeck/projects
RDECK_LOG=/var/log/rundeck
RUNDECK_TMP=/tmp/rundeck
RDECK_HTTP_PORT=4440
RDECK_HTTPS_PORT=4443

#
# Set min/max heap size
#
RDECK_JVM="-Xmx1024m -Xms256m -XX:MaxPermSize=256m -server"

#
# SSL Configuration - Uncomment the following to enable.  Check SSL.properties for details.
#
#RDECK_JVM="$RDECK_JVM -Drundeck.ssl.config=$RDECK_CONF/ssl/ssl.properties \
#  -Dserver.https.port=$RDECK_HTTPS_PORT"
RDECK_SSL_OPTS="-Djavax.net.ssl.trustStore=$RDECK_CONF/ssl/truststore \
  -Djavax.net.ssl.trustStoreType=jks \
  -Djava.protocol.handler.pkgs=com.sun.net.ssl.internal.www.protocol"

CLI_CP=$(find $RDECK_BASE/cli -name \*.jar -printf %p:)
BOOTSTRAP_CP=$(find $RDECK_BASE/bootstrap -name \*.jar -printf %p:)
RDECK_JVM="$RDECK_JVM -Djava.security.auth.login.config=$RDECK_CONF/jaas-loginmodule.conf \
  -Dloginmodule.name=RDpropertyfilelogin \
  -Drdeck.config=$RDECK_CONF \
  -Drdeck.base=$RDECK_BASE \
  -Drundeck.server.configDir=$RDECK_CONF \
  -Dserver.datastore.path=$RDECK_BASE/data \
  -Drundeck.server.serverDir=$RDECK_BASE \
  -Drdeck.projects=$RDECK_PROJDIR \
  -Drdeck.runlogs=$RDECK_LOG \
  -Drundeck.config.location=$RDECK_CONF/rundeck-config.properties \
  -Djava.io.tmpdir=$RUNDECK_TMP"

if [[ -t 0 ]] && [[ -z "$RUNDECK_CLI_TERSE" ]];
  then
    export RUNDECK_CLI_TERSE=true
fi

if [[ -n "$JRE_HOME" ]]
  then
    unset JRE_HOME
fi

umask 002
